<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>hexo静态博客github部署</title>
    <link href="/2022/01/23/hexo%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2github%E9%83%A8%E7%BD%B2/"/>
    <url>/2022/01/23/hexo%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2github%E9%83%A8%E7%BD%B2/</url>
    
    <content type="html"><![CDATA[<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>利用 github 的 gitpages 部署博客</p><p>安装 hexo 到本地环境</p><ol><li><p>node.js 安装</p></li><li><p>安装 hexo 框架</p><ol><li>  <figure class="highlight bat"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs bat">npm install hexo-cli -g<br>//安装hexo脚手架<br></code></pre></td></tr></table></figure></li><li>  <figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bat">//在要存放博客的文件夹执行<br>hexo init &lt;文件夹&gt;<br><span class="hljs-built_in">cd</span> &lt;文件夹&gt;<br><br>//补全运行所需文件<br>npm install<br></code></pre></td></tr></table></figure></li></ol></li><li><p>添加主题</p><ol><li><p>主题我选择的是 <a href="https://github.com/fluid-dev/hexo-theme-fluid">fuild</a></p></li><li>  <figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bat">//进入博客文件夹<br><span class="hljs-built_in">cd</span> &lt;文件夾&gt;<br><br>//添加 fluid 的 node 包<br>npm install --save hexo-theme-fluid<br><br>//补全运行所需文件<br>npm install<br><br></code></pre></td></tr></table></figure></li><li><p>在博客目录里 新建文件 _config.fluid.yml 复制官网的 <a href="https://github.com/fluid-dev/hexo-theme-fluid/blob/master/_config.yml">config配置</a> 到刚刚建立的文件夹</p></li><li><p>打开博客目录 _config.yml 部分更改如下</p> <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yml"> <span class="hljs-attr">theme:</span> <span class="hljs-string">fluid</span>  <span class="hljs-comment"># 指定主题</span><br><br><span class="hljs-attr">language:</span> <span class="hljs-string">zh-CN</span>  <span class="hljs-comment"># 指定语言，会影响主题显示的语言，按需修改</span><br></code></pre></td></tr></table></figure></li><li><p>创建关于自己的页面</p> <figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bat">hexo new page about<br></code></pre></td></tr></table></figure><p> 创建成功后，编辑博客目录下 /source/about/index.md，添加 layout 属性。</p><p> 修改后的文件示例如下：</p> <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">about</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2020-02-23 19:20:33</span><br><span class="hljs-attr">layout:</span> <span class="hljs-string">about</span><br><span class="hljs-meta">---</span><br><span class="hljs-meta"></span><br><span class="hljs-string">这里写关于页的正文，支持</span> <span class="hljs-string">Markdown,</span> <span class="hljs-string">HTML</span><br></code></pre></td></tr></table></figure></li></ol></li><li><p>利用 <a href="https://code.visualstudio.com/">vscode</a> 上传到自己的仓库</p></li><li><p>利用 Github Action 实现每次 上传到 主分支 自动部署到博客仓库</p><ol><li><p>.github/workflows/main.yml</p>  <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">name:</span> <span class="hljs-string">Hexo</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">Automatically</span><br><br><span class="hljs-attr">on:</span><br>    <span class="hljs-attr">push:</span><br>        <span class="hljs-attr">branches:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">master</span><br><br><span class="hljs-attr">jobs:</span><br>    <span class="hljs-attr">build:</span><br>    <br>        <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>        <br>        <span class="hljs-attr">strategy:</span><br>        <span class="hljs-attr">matrix:</span><br>            <span class="hljs-attr">node-version:</span> [<span class="hljs-number">12.</span><span class="hljs-string">x</span>]<br>            <br>        <span class="hljs-attr">steps:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span><br>            <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span><br>            <br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Use</span> <span class="hljs-string">node.js</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">matrix.node-version</span> <span class="hljs-string">&#125;&#125;</span><br>            <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v1</span><br>            <span class="hljs-attr">with:</span><br>            <span class="hljs-attr">node-version:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">matrix.node-verion</span> <span class="hljs-string">&#125;&#125;</span><br>    <br>        <br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Generate</span><br>            <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">            npm i  &amp;&amp; npx hexo g</span><br><span class="hljs-string"></span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span>  <span class="hljs-string">gh-pages</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-comment"># 备份到 镜像分支</span><br>            <span class="hljs-attr">uses:</span> <span class="hljs-string">peaceiris/actions-gh-pages@v3</span><br>            <span class="hljs-attr">with:</span><br>            <span class="hljs-attr">github_token:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">&#125;&#125;</span><br>            <span class="hljs-attr">publish_dir:</span> <span class="hljs-string">./</span><br>            <span class="hljs-attr">publish_branch:</span> <span class="hljs-string">gh-pages</span><br><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <br>        <span class="hljs-bullet">-</span> <span class="hljs-comment"># 发布到博客仓库</span><br>            <span class="hljs-attr">uses:</span> <span class="hljs-string">peaceiris/actions-gh-pages@v3</span><br>            <span class="hljs-attr">with:</span><br>            <span class="hljs-attr">deploy_key:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.HEXO_DEPLOY_KEY</span>  <span class="hljs-string">&#125;&#125;</span><br>            <span class="hljs-comment"># secrets.HEXO_DEPLOY_KEY 你的 保险箱 内容 这个应是你的私钥 </span><br>            <span class="hljs-attr">publish_dir:</span> <span class="hljs-string">./public</span><br>            <span class="hljs-attr">publish_branch:</span> <span class="hljs-string">main</span><br>            <span class="hljs-attr">external_repository:</span> <span class="hljs-string">你的仓库网址</span><br>            <span class="hljs-attr">cname:</span> <span class="hljs-string">你的域名</span><br></code></pre></td></tr></table></figure></li></ol></li></ol>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
